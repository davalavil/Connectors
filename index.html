<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juegos de Inglés Interactivo</title>
    <!-- Estilos principales y comunes -->
    <link rel="stylesheet" href="css/style.css">
    <!-- Estilos específicos (aislados) para los juegos importados -->
    <link rel="stylesheet" href="css/style_verbs.css">
    <link rel="stylesheet" href="css/style_traduccion.css">
    <!-- Favicon Opcional -->
    <!-- <link rel="icon" href="favicon.ico" type="image/x-icon"> -->
</head>
<body>

    <!-- Título Principal -->
    <h1 id="main-title">Selección de Juego</h1>

    <!-- ================================= -->
    <!-- ===== SECCIÓN SELECCIÓN JUEGO ===== -->
    <!-- ================================= -->
    <div id="game-selection">
        <button id="select-matching-btn" class="selection-button">Emparejar Conectores</button>
        <button id="select-fill-blanks-btn" class="selection-button">Rellenar Conectores</button>
        <button id="select-verb-pattern-btn" class="selection-button">Gerundios/Infinitivos</button>
        <!-- Botones para juegos importados -->
        <button id="select-verbs-game-btn" class="selection-button">Práctica de Verbos</button>
        <button id="select-traduccion-game-btn" class="selection-button">Práctica de Vocabulario</button>
    </div>

    <!-- ================================================= -->
    <!-- ===== CONTENEDOR JUEGO EMPAREJAR (Matching) ===== -->
    <!-- ================================================= -->
    <div id="matching-container" class="game-mode-container hidden">
        <!-- --- Setup Juego Emparejar --- -->
        <div id="matching-setup" class="setup-section">
             <h2>Configurar Juego de Emparejar</h2>
             <label for="matching-time-select">Selecciona el tiempo (minutos):</label>
             <select id="matching-time-select">
                 <option value="5">5</option>
                 <option value="10" selected>10</option>
                 <option value="15">15</option>
                 <option value="20">20</option>
                 <option value="1">1</option>
             </select>
             <div class="button-group"> <!-- Agrupador botones setup -->
                <button id="start-matching-btn" class="action-button">Empezar a Emparejar</button>
                <button class="back-to-selection action-button">Volver a Selección</button>
             </div>
        </div>

        <!-- --- Juego Emparejar --- -->
        <div id="matching-game" class="game-section hidden">
             <header id="game-info">
                 <div id="score-board">Parejas: <span id="current-score">0</span> / <span id="total-pairs">0</span></div>
                 <div id="timer-board">Tiempo: <span id="time-left">--:--</span></div>
             </header>
             <main id="word-area">
                 <!-- Las palabras para emparejar se cargarán aquí -->
             </main>
             <footer id="game-controls">
                 <button id="give-up-btn" class="action-button">¡ME RINDO!</button>
                 <button id="restart-matching-btn" class="action-button">Reiniciar Emparejar</button>
                 <button class="back-to-selection action-button">Volver a Selección</button>
             </footer>
             <!-- Overlay de Resultados (Emparejar) -->
             <div id="results-overlay" class="hidden">
                 <div id="results-content">
                     <h2>Resultados</h2>
                     <div id="correct-pairs-list"></div>
                     <div class="button-group"> <!-- Agrupador para botones overlay -->
                        <button id="play-again-matching-btn" class="action-button">Jugar de Nuevo (Setup)</button>
                        <button class="back-to-selection action-button">Volver a Selección</button>
                     </div>
                 </div>
             </div>
        </div>
    </div>

    <!-- =================================================== -->
    <!-- ===== CONTENEDOR JUEGO RELLENAR (Fill Blanks) ===== -->
    <!-- =================================================== -->
    <div id="fill-blanks-container" class="game-mode-container hidden">
        <!-- --- Setup Juego Rellenar --- -->
        <div id="fill-blanks-setup" class="setup-section">
            <h2>Configurar Juego de Rellenar</h2>
            <label for="translation-direction">¿Qué quieres rellenar?</label>
            <select id="translation-direction">
                <option value="en-es">La traducción al Español (EN -> ES)</option>
                <option value="es-en">La traducción al Inglés (ES -> EN)</option>
            </select>
            <label for="fill-blanks-time-select">Selecciona el tiempo (minutos):</label>
            <select id="fill-blanks-time-select">
                <option value="5">5</option>
                <option value="10" selected>10</option>
                <option value="15">15</option>
                <option value="20">20</option>
                <option value="1">1</option>
            </select>
            <div class="button-group"> <!-- Agrupador botones setup -->
                <button id="start-fill-blanks-btn" class="action-button">Empezar a Rellenar</button>
                <button class="back-to-selection action-button">Volver a Selección</button>
            </div>
       </div>

        <!-- --- Juego Rellenar --- -->
        <div id="fill-blanks-game" class="game-section hidden">
             <header id="fill-blanks-info">
                  <div id="fill-blanks-score-board">Correctas: <span id="fill-blanks-current-score">0</span> | Erróneas: <span id="fill-blanks-incorrect-score">0</span> | Total: <span id="fill-blanks-total">0</span></div>
                 <div id="fill-blanks-timer-board">Tiempo: <span id="fill-blanks-time-left">--:--</span></div>
             </header>
             <main id="fill-blanks-area">
                 <p>Escribe la traducción correcta en cada casilla y pulsa fuera o "Comprobar".</p>
                 <div class="table-container">
                     <table id="fill-blanks-table">
                         <thead>
                             <tr>
                                 <th>Conector Original</th>
                                 <th>Tu Traducción</th>
                                 <th>Resultado</th>
                             </tr>
                         </thead>
                         <tbody>
                             <!-- Filas se generarán aquí -->
                         </tbody>
                     </table>
                 </div>
             </main>
             <footer id="fill-blanks-controls">
                 <button id="check-answers-btn" class="action-button">Comprobar Respuestas</button>
                 <button id="restart-fill-blanks-btn" class="action-button">Reiniciar Relleno</button>
                  <button class="back-to-selection action-button">Volver a Selección</button>
             </footer>
        </div>
    </div>

    <!-- ======================================================== -->
    <!-- ===== CONTENEDOR JUEGO GERUNDIOS/INF (Verb Patterns) ===== -->
    <!-- ======================================================== -->
    <div id="verb-pattern-container" class="game-mode-container hidden">
        <!-- --- Setup Juego G/I --- -->
        <div id="verb-pattern-setup" class="setup-section">
             <h2>Configurar Juego de Gerundios/Infinitivos</h2>
             <label for="verb-pattern-time-select">Tiempo por pregunta (segundos):</label>
             <select id="verb-pattern-time-select">
                 <option value="10">10</option>
                 <option value="15" selected>15</option>
                 <option value="20">20</option>
                 <option value="30">30</option>
                 <option value="5">5</option>
             </select>
             <div class="button-group"> <!-- Agrupador botones setup -->
                <button id="start-verb-pattern-btn" class="action-button">Empezar Juego G/I</button>
                <button class="back-to-selection action-button">Volver a Selección</button>
             </div>
        </div>

        <!-- --- Juego G/I --- -->
        <div id="verb-pattern-game" class="game-section hidden">
             <header id="verb-pattern-info">
                 <div id="verb-pattern-score-board">Aciertos: <span id="verb-pattern-correct">0</span> | Errores: <span id="verb-pattern-incorrect">0</span> | Pregunta: <span id="verb-pattern-q-count">0</span> / <span id="verb-pattern-q-total">0</span></div>
                 <div id="verb-pattern-timer-board">Tiempo Pregunta: <span id="verb-pattern-q-time-left">--</span>s</div>
             </header>
             <main id="verb-pattern-area">
                 <div id="verb-pattern-term-container">
                    <p>¿Qué sigue normalmente a esta palabra/frase?</p>
                    <div id="verb-pattern-term">Término...</div>
                    <div id="verb-pattern-explanation" class="term-explanation"></div> <!-- Para explicaciones opcionales -->
                 </div>
                 <div id="verb-pattern-options">
                    <button class="answer-button" data-answer="gerund">Gerundio (-ing)</button>
                    <button class="answer-button" data-answer="infinitive_to">Infinitivo (con TO)</button>
                    <button class="answer-button" data-answer="infinitive_no_to">Infinitivo (sin TO)</button>
                    <button class="answer-button" data-answer="both">Ambos (Gerundio o Inf. con TO)</button>
                 </div>
                 <div id="verb-pattern-feedback"></div> <!-- Feedback Correcto/Incorrecto -->
             </main>
             <footer id="verb-pattern-controls">
                 <!-- El botón Quit ahora funciona como "Volver" a través de la clase back-to-selection -->
                 <button id="verb-pattern-quit-btn" class="back-to-selection action-button">Salir del Juego</button>
             </footer>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- ===== CONTENEDOR JUEGO VERBOS (Importado) ===== -->
    <!-- ============================================ -->
    <div id="verbs-game-container" class="game-mode-container hidden">
        <!-- Contenido del body de Verbs_game/index.html, adaptado y con IDs prefijados -->
        <h2>Juego de Práctica de Verbos</h2> <!-- H2 en lugar de H1 -->

        <!-- Controles de Modo (Setup) -->
        <div id="verbs-controles" class="setup-section"> <!-- ID prefijado -->
            <h3>Elige un modo de juego:</h3> <!-- H3 en lugar de H2 -->
            <div class="verb-button-group"> <!-- Agrupador para botones -->
                <button id="verbs-btn-random" class="action-button">Aleatorio</button> <!-- ID prefijado -->
                <button id="verbs-btn-infinitive" class="action-button">Rellenar Infinitivo</button> <!-- ID prefijado -->
                <button id="verbs-btn-past-simple" class="action-button">Rellenar Pasado Simple</button> <!-- ID prefijado -->
                <button id="verbs-btn-past-participle" class="action-button">Rellenar Pasado Participio</button> <!-- ID prefijado -->
                <button id="verbs-btn-translation" class="action-button">Rellenar Traducción</button> <!-- ID prefijado -->
            </div>
            <!-- Input número de verbos (opcional, no implementado en JS original) -->
            <!-- <label for="verbs-num-verbs">Número de verbos:</label>
            <input type="number" id="verbs-num-verbs" value="10" min="1"> -->
        </div>

        <!-- Área del Juego (Tabla) -->
        <div id="verbs-juego" class="game-section"> <!-- ID prefijado -->
             <div class="table-container"> <!-- Reutilizar contenedor tabla -->
                <table id="verb-table"> <!-- ID original mantenido (o prefijar si hay conflicto) -->
                    <thead>
                        <tr>
                            <th>Infinitivo (Inglés)</th>
                            <th>Pasado Simple (Inglés)</th>
                            <th>Pasado Participio (Inglés)</th>
                            <th>Traducción (Castellano)</th>
                            <th>Tipo / Acción</th> <!-- Cabecera modificada -->
                        </tr>
                    </thead>
                    <tbody id="verb-table-body"> <!-- ID original mantenido -->
                        <!-- Las filas de verbos se generarán aquí con JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Acciones del Juego -->
        <div id="verbs-acciones" class="game-controls"> <!-- ID prefijado y clase común -->
            <button id="verbs-btn-check" class="action-button">Comprobar Respuestas</button> <!-- ID prefijado -->
            <!-- Botón Volver Añadido -->
            <button class="back-to-selection action-button">Volver a Selección</button>
        </div>

        <!-- Área de Feedback -->
        <div id="verbs-feedback" class="feedback-area"> <!-- ID prefijado y clase común -->
            <!-- Los resultados se mostrarán aquí -->
        </div>
    </div>

    <!-- ================================================= -->
    <!-- ===== CONTENEDOR JUEGO TRADUCCIÓN (Importado) ===== -->
    <!-- ================================================= -->
    <div id="traduccion-game-container" class="game-mode-container hidden">
         <!-- Contenido del body de Juego_traduccion/index.html, adaptado y con IDs prefijados -->
         <h2>Vocabulary Practice B2.2</h2> <!-- H2 en lugar de H1, título ajustado -->

        <!-- Sección Configuración (Adaptada) -->
        <div class="configuracion-container setup-section"> <!-- Clases comunes -->
            <!-- Sección Selección Unidades -->
            <div class="configuracion-seccion">
                <label><strong>Unidades a incluir:</strong></label>
                <div class="unidades-botones-control">
                    <!-- Usar clase action-button y btn-control-unidad -->
                    <button id="traduccion-btn-select-all" class="action-button btn-control-unidad">Seleccionar Todas</button> <!-- ID prefijado -->
                    <button id="traduccion-btn-deselect-all" class="action-button btn-control-unidad">Deseleccionar Todas</button> <!-- ID prefijado -->
                </div>
                <div id="traduccion-unidades-botones-container" class="botones-container"></div> <!-- ID prefijado -->
            </div>
            <!-- Sección Número de Palabras -->
            <div class="configuracion-seccion">
                <label for="traduccion-num-palabras-input"><strong>Número de palabras (<span id="traduccion-num-palabras-valor">10</span>):</strong></label> <!-- IDs prefijados -->
                <div class="config-slider-container">
                    <input type="range" id="traduccion-num-palabras-slider" value="10" min="1" max="50" step="1"> <!-- ID prefijado -->
                    <input type="number" id="traduccion-num-palabras-input" value="10" min="1" max="50"> <!-- ID prefijado -->
                </div>
            </div>
        </div>

        <!-- Controles Modo -->
        <div class="traduccion-controles controles-modo"> <!-- Clase específica -->
            <button id="traduccion-btn-modo-ing-esp" class="action-button">Inglés -> Español</button> <!-- ID prefijado -->
            <button id="traduccion-btn-modo-esp-ing" class="action-button">Español -> Inglés</button> <!-- ID prefijado -->
        </div>

        <!-- Indicador Modo Actual -->
        <h3 id="traduccion-modo-actual">Modo: Inglés -> Español</h3> <!-- ID prefijado y H3 -->
        <!-- Estado Generación -->
        <div id="traduccion-estado-generacion" class="estado-info feedback-area"></div> <!-- ID prefijado y clases comunes -->

        <!-- Área Principal del Juego -->
        <div id="traduccion-area-juego" class="game-section"></div> <!-- ID prefijado y clase común -->

        <!-- Acciones del Juego -->
        <div class="traduccion-controles controles-acciones game-controls"> <!-- Clases específicas y comunes -->
            <button id="traduccion-btn-copiar" class="action-button">Generar Palabras</button> <!-- ID prefijado, texto cambiado -->
            <button id="traduccion-btn-borrar" class="action-button">Borrar Respuestas</button> <!-- ID prefijado -->
            <button id="traduccion-btn-mostrar-lista" class="action-button">Mostrar/Ocultar Lista</button> <!-- ID prefijado -->
            <!-- Botón Volver Añadido -->
            <button class="back-to-selection action-button">Volver a Selección</button>
        </div>

        <!-- Lista de Palabras Oculta -->
        <div id="traduccion-lista-palabras" class="hidden"> <!-- ID prefijado y usar .hidden global -->
            <h3>Lista de Referencia</h3> <!-- H3 -->
            <p id="traduccion-lista-info" class="estado-info"></p> <!-- ID prefijado y clase común -->
            <div id="traduccion-contenido-lista"></div> <!-- ID prefijado -->
        </div>
    </div>

    <!-- =========================== -->
    <!-- ===== CARGA DE SCRIPTS ===== -->
    <!-- =========================== -->
    <!-- (Importante el orden: Librerías -> Datos -> Lógica específica -> Lógica principal) -->

    <!-- 1. Librerías Externas -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>

    <!-- 2. Archivos de Datos -->
    <script src="js/connectors.js"></script>      <!-- Datos juego original Conectores -->
    <script src="js/verbPatterns.js"></script>    <!-- Datos juego original Patrones Verbales -->
    <script src="js/verbs.js"></script>           <!-- Datos juego importado Verbos -->
    <script src="js/palabras.js"></script>        <!-- Datos juego importado Traducción -->

    <!-- 3. Lógica Específica de Juegos (Módulos Aislados) -->
    <script src="js/script_verbs.js"></script>       <!-- Lógica aislada juego Verbos -->
    <script src="js/script_traduccion.js"></script>  <!-- Lógica aislada juego Traducción -->

    <!-- 4. Script Principal (Orquestador) -->
    <script src="js/script.js"></script>

</body>
</html>
